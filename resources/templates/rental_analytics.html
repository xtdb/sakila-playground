{% extends "templates/screen.html" %}

{% block content %}
<div class="grid-container">

    <section class="detail">
        <h2>Rental Analytics</h2>
    </section>

    <section style="overflow-y: auto;" hx-trigger="load" hx-get="/yry/rental-per-month">
        <p>Loading...</p>
    </section>

    <section style="overflow-y: auto;" hx-trigger="load" hx-get="/yry/rental-per-category">
        <p>Loading...</p>
    </section>

    <section style="overflow-y: auto;" hx-trigger="load" hx-get="/yry/top-renting-customers">
        <p>Loading...</p>
    </section>

    <section style="overflow-y: auto;">
        <table>
            <caption>Top rented films</caption>
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Rented</th>
                </tr>
            </thead>
            <tbody>
                {% for film in rentals_top_films %}
                <tr>
                    <td>{{ film.title }}</td>
                    <td>{{ film.count_rented }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </section>
</div>
{% endblock %}